<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Chapter 9: In-depth Speakers</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
    header { background: #f0f0f0; padding: 10px; margin-bottom: 20px; }
    header nav a { margin-right: 15px; text-decoration: none; color: #333; }
    h1, h2, h3 { color: #222; }
    .hidden { display: none; }
    .feedback { margin-top: 20px; }
    .correct { color: green; }
    .incorrect { color: red; }
    button { padding: 8px 12px; margin-top: 10px; }
    .question { margin-bottom: 15px; }
  </style>
</head>
<body>
  <!-- Navigation Header -->
  <header>
    <nav>
      <a href="chapter1.html">Chapter 1</a>
      <a href="chapter2.html">Chapter 2</a>
      <a href="chapter3.html">Chapter 3</a>
      <a href="chapter4.html">Chapter 4</a>
      <a href="chapter5.html">Chapter 5</a>
      <a href="chapter6.html">Chapter 6</a>
      <a href="chapter7.html">Chapter 7</a>
      <a href="chapter8.html">Chapter 8</a>
      <a href="chapter9.html">Chapter 9</a>
      <a href="chapter10.html">Chapter 10</a>
      <a href="chapter11.html">Chapter 11</a>
    </nav>
  </header>

  <!-- Pre-Quiz Content (1-Pager) for Chapter 9 -->
  <div id="contentView">
    <h1>Chapter 9: In-depth Speakers — Pre-Quiz One-Pager</h1>
    <p>This chapter explores the technical aspects of speakers using performance charts. You will learn about:</p>
    <ul>
      <li><strong>Frequency Response Charts:</strong> How speakers reproduce different frequencies and their impact on tonal balance. A flat response indicates neutrality, while peaks and dips reveal emphasis or de‐emphasis in certain ranges.</li>
      <li><strong>Phase Charts:</strong> How timing and alignment of drivers affect sound integration and coherence. Proper phase alignment ensures that the sound from multiple drivers merges accurately.</li>
      <li><strong>Impedance Charts:</strong> How the electrical load of a speaker varies with frequency, impacting amplifier compatibility and power delivery. Dips in impedance can strain amplifiers.</li>
    </ul>
    <p>These charts help evaluate a speaker’s performance and compatibility with amplifiers.</p>
    <p>Review these concepts carefully before taking the quiz below.</p>
    <button onclick="toggleView()">Start Quiz</button>
  </div>

  <!-- Quiz View for Chapter 9 (initially hidden) -->
  <div id="quizView" class="hidden">
    <h1>Chapter 9 Quiz: In-depth Speakers</h1>
    <form id="quizForm">
      <!-- Section 1: Frequency Response Charts -->
      <div class="question">
        <p>1. What does a frequency response chart show?</p>
        <label><input type="radio" name="q1" value="a"> a) Voltage changes over time</label><br>
        <label><input type="radio" name="q1" value="b"> b) Frequency vs. amplitude response</label><br>
        <label><input type="radio" name="q1" value="c"> c) Phase alignment</label><br>
        <label><input type="radio" name="q1" value="d"> d) Impedance variation</label>
      </div>
      <div class="question">
        <p>2. Which frequency range is most affected by room acoustics?</p>
        <label><input type="radio" name="q2" value="a"> a) Low frequencies</label><br>
        <label><input type="radio" name="q2" value="b"> b) Mid frequencies</label><br>
        <label><input type="radio" name="q2" value="c"> c) High frequencies</label><br>
        <label><input type="radio" name="q2" value="d"> d) Ultrasonic frequencies</label>
      </div>
      <div class="question">
        <p>3. A flat frequency response indicates:</p>
        <label><input type="radio" name="q3" value="a"> a) Boosted bass and treble</label><br>
        <label><input type="radio" name="q3" value="b"> b) Accurate sound reproduction without tonal coloration</label><br>
        <label><input type="radio" name="q3" value="c"> c) Emphasis on midrange frequencies</label><br>
        <label><input type="radio" name="q3" value="d"> d) Poor imaging and soundstage</label>
      </div>
      <div class="question">
        <p>4. What does a peak in the frequency response around 3kHz likely indicate?</p>
        <label><input type="radio" name="q4" value="a"> a) Enhanced bass response</label><br>
        <label><input type="radio" name="q4" value="b"> b) Harsh or forward-sounding vocals</label><br>
        <label><input type="radio" name="q4" value="c"> c) Weak treble clarity</label><br>
        <label><input type="radio" name="q4" value="d"> d) Improved imaging and soundstage</label>
      </div>
      <div class="question">
        <p>5. A dip in the frequency response at 100Hz would result in:</p>
        <label><input type="radio" name="q5" value="a"> a) Boomy and muddy bass</label><br>
        <label><input type="radio" name="q5" value="b"> b) Weak and lacking bass presence</label><br>
        <label><input type="radio" name="q5" value="c"> c) Harsh treble</label><br>
        <label><input type="radio" name="q5" value="d"> d) Distorted midrange frequencies</label>
      </div>

      <!-- Section 2: Phase Charts -->
      <div class="question">
        <p>6. What does a phase chart measure?</p>
        <label><input type="radio" name="q6" value="a"> a) Voltage fluctuations</label><br>
        <label><input type="radio" name="q6" value="b"> b) Timing alignment between drivers</label><br>
        <label><input type="radio" name="q6" value="c"> c) Speaker impedance</label><br>
        <label><input type="radio" name="q6" value="d"> d) Amplifier power output</label>
      </div>
      <div class="question">
        <p>7. Why is phase alignment important in speaker design?</p>
        <label><input type="radio" name="q7" value="a"> a) To increase bass output</label><br>
        <label><input type="radio" name="q7" value="b"> b) To ensure drivers integrate smoothly for accurate imaging</label><br>
        <label><input type="radio" name="q7" value="c"> c) To reduce impedance fluctuations</label><br>
        <label><input type="radio" name="q7" value="d"> d) To boost amplifier efficiency</label>
      </div>
      <div class="question">
        <p>8. What is phase shift?</p>
        <label><input type="radio" name="q8" value="a"> a) An increase in amplifier power output</label><br>
        <label><input type="radio" name="q8" value="b"> b) A timing mismatch between drivers that affects sound integration</label><br>
        <label><input type="radio" name="q8" value="c"> c) A boost in bass response</label><br>
        <label><input type="radio" name="q8" value="d"> d) A decrease in speaker sensitivity</label>
      </div>
      <div class="question">
        <p>9. What happens when drivers are out of phase at the crossover point?</p>
        <label><input type="radio" name="q9" value="a"> a) Enhanced bass response</label><br>
        <label><input type="radio" name="q9" value="b"> b) Hollow or uneven midrange frequencies</label><br>
        <label><input type="radio" name="q9" value="c"> c) Improved stereo imaging</label><br>
        <label><input type="radio" name="q9" value="d"> d) Increased amplifier efficiency</label>
      </div>
      <div class="question">
        <p>10. Which of the following helps minimize phase issues?</p>
        <label><input type="radio" name="q10" value="a"> a) Placing speakers closer to walls</label><br>
        <label><input type="radio" name="q10" value="b"> b) Using well-designed crossovers and driver alignment</label><br>
        <label><input type="radio" name="q10" value="c"> c) Increasing amplifier power output</label><br>
        <label><input type="radio" name="q10" value="d"> d) Lowering the speaker’s impedance</label>
      </div>

      <!-- Section 3: Impedance Charts -->
      <div class="question">
        <p>11. Why is impedance important in speaker design?</p>
        <label><input type="radio" name="q11" value="a"> a) It affects amplifier power delivery</label><br>
        <label><input type="radio" name="q11" value="b"> b) It controls volume levels</label><br>
        <label><input type="radio" name="q11" value="c"> c) It adjusts tonal balance</label><br>
        <label><input type="radio" name="q11" value="d"> d) It enhances soundstage</label>
      </div>
      <div class="question">
        <p>12. What does a dip in impedance indicate?</p>
        <label><input type="radio" name="q12" value="a"> a) Increased power demand</label><br>
        <label><input type="radio" name="q12" value="b"> b) Reduced power demand</label><br>
        <label><input type="radio" name="q12" value="c"> c) Frequency boost</label><br>
        <label><input type="radio" name="q12" value="d"> d) Phase alignment issue</label>
      </div>
      <div class="question">
        <p>13. How can low impedance dips affect an amplifier?</p>
        <label><input type="radio" name="q13" value="a"> a) Improve power efficiency</label><br>
        <label><input type="radio" name="q13" value="b"> b) Cause overheating or distortion</label><br>
        <label><input type="radio" name="q13" value="c"> c) Reduce total harmonic distortion</label><br>
        <label><input type="radio" name="q13" value="d"> d) Enhance soundstage width</label>
      </div>
      <div class="question">
        <p>14. Which amplifier is best suited for speakers with low impedance dips?</p>
        <label><input type="radio" name="q14" value="a"> a) Low-powered Class A amplifier</label><br>
        <label><input type="radio" name="q14" value="b"> b) High-current Class AB or Class D amplifier</label><br>
        <label><input type="radio" name="q14" value="c"> c) Tube amplifier with high output impedance</label><br>
        <label><input type="radio" name="q14" value="d"> d) Portable Bluetooth amplifier</label>
      </div>
      <div class="question">
        <p>15. When matching speakers and amplifiers, you should:</p>
        <label><input type="radio" name="q15" value="a"> a) Match the speaker’s impedance curve with the amplifier’s power capability</label><br>
        <label><input type="radio" name="q15" value="b"> b) Only consider the speaker’s sensitivity rating</label><br>
        <label><input type="radio" name="q15" value="c"> c) Use any amplifier, as impedance doesn’t matter</label><br>
        <label><input type="radio" name="q15" value="d"> d) Match speaker impedance to room acoustics</label>
      </div>

      <!-- Section 4: Real-World Applications -->
      <div class="question">
        <p>16. Which chart helps in determining amplifier compatibility?</p>
        <label><input type="radio" name="q16" value="a"> a) Frequency response chart</label><br>
        <label><input type="radio" name="q16" value="b"> b) Phase chart</label><br>
        <label><input type="radio" name="q16" value="c"> c) Impedance chart</label><br>
        <label><input type="radio" name="q16" value="d"> d) Power rating chart</label>
      </div>
      <div class="question">
        <p>17. What causes phase shift in speakers?</p>
        <label><input type="radio" name="q17" value="a"> a) Crossover design</label><br>
        <label><input type="radio" name="q17" value="b"> b) Cabinet material</label><br>
        <label><input type="radio" name="q17" value="c"> c) Amplifier class</label><br>
        <label><input type="radio" name="q17" value="d"> d) Cable length</label>
      </div>
      <div class="question">
        <p>18. Which frequency range is critical for vocal clarity?</p>
        <label><input type="radio" name="q18" value="a"> a) Sub-bass (20-60 Hz)</label><br>
        <label><input type="radio" name="q18" value="b"> b) Low-mids (250-500 Hz)</label><br>
        <label><input type="radio" name="q18" value="c"> c) Presence region (2-4 kHz)</label><br>
        <label><input type="radio" name="q18" value="d"> d) Highs (10-20 kHz)</label>
      </div>
      <div class="question">
        <p>19. How do crossover points affect frequency response?</p>
        <label><input type="radio" name="q19" value="a"> a) They create phase shifts</label><br>
        <label><input type="radio" name="q19" value="b"> b) They divide frequencies between drivers</label><br>
        <label><input type="radio" name="q19" value="c"> c) They enhance bass response</label><br>
        <label><input type="radio" name="q19" value="d"> d) They affect impedance only</label>
      </div>
      <div class="question">
        <p>20. A speaker with a flat frequency response is generally perceived as:</p>
        <label><input type="radio" name="q20" value="a"> a) Neutral and accurate</label><br>
        <label><input type="radio" name="q20" value="b"> b) Harsh and bright</label><br>
        <label><input type="radio" name="q20" value="c"> c) Boomy and bass-heavy</label><br>
        <label><input type="radio" name="q20" value="d"> d) Dull and lifeless</label>
      </div>
      
      <div class="feedback" id="quizFeedback"></div>
      <button type="button" onclick="gradeQuiz()">Submit Quiz</button>
      <button type="button" onclick="toggleView()">Back to Content</button>
    </form>
  </div>

  <script>
    // Toggle between pre-quiz content and quiz view
    function toggleView() {
      const content = document.getElementById("contentView");
      const quiz = document.getElementById("quizView");
      if (content.classList.contains("hidden")) {
        content.classList.remove("hidden");
        quiz.classList.add("hidden");
      } else {
        content.classList.add("hidden");
        quiz.classList.remove("hidden");
      }
      // Clear previous feedback and reset form
      document.getElementById("quizFeedback").innerHTML = "";
      document.getElementById("quizForm").reset();
    }
    
    // Answer key for Chapter 9 Quiz
    const answerKey = [
      "b", // Q1
      "a", // Q2
      "b", // Q3
      "b", // Q4
      "b", // Q5
      "b", // Q6
      "b", // Q7
      "b", // Q8
      "b", // Q9
      "b", // Q10
      "a", // Q11
      "a", // Q12
      "b", // Q13
      "b", // Q14
      "a", // Q15
      "c", // Q16
      "a", // Q17
      "c", // Q18
      "b", // Q19
      "a"  // Q20
    ];
    
    function gradeQuiz() {
      let score = 0;
      const total = answerKey.length;
      let feedbackHtml = "";
      for (let i = 0; i < total; i++) {
        const qName = "q" + (i + 1);
        const radios = document.getElementsByName(qName);
        let userAnswer = "";
        for (let radio of radios) {
          if (radio.checked) {
            userAnswer = radio.value;
            break;
          }
        }
        if (userAnswer === answerKey[i]) {
          score++;
          feedbackHtml += `<p>Question ${i + 1}: <span class="correct">Correct</span></p>`;
        } else {
          feedbackHtml += `<p>Question ${i + 1}: <span class="incorrect">Incorrect</span>. Correct answer: ${answerKey[i].toUpperCase()}</p>`;
        }
      }
      feedbackHtml += `<p><strong>Your score: ${score} out of ${total}</strong></p>`;
      document.getElementById("quizFeedback").innerHTML = feedbackHtml;
    }
  </script>
</body>
</html>
